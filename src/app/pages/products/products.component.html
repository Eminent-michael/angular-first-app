<div class="container">
  <table mat-table
    [dataSource]="dataSource"
    class="mat-elevation-z8">
    <ng-container matColumnDef="position">
      <th mat-header-cell
        *matHeaderCellDef> Id </th>
      <td mat-cell
        *matCellDef="let element"> {{ element.ticketId}} </td>
    </ng-container>

    <ng-container matColumnDef="summary">
      <th mat-header-cell
        *matHeaderCellDef> Summary </th>
      <td mat-cell
        *matCellDef="let element"> {{element.summary}} </td>
    </ng-container>

    <ng-container matColumnDef="story">
      <th mat-header-cell
        *matHeaderCellDef> Story Point </th>
      <td mat-cell
        *matCellDef="let element"> {{element.storyPoint}} </td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell
        *matHeaderCellDef> Status </th>
      <td mat-cell
        *matCellDef="let element"> {{element.status}} </td>
    </ng-container>

    <ng-container matColumnDef="assigned">
      <th mat-header-cell
        *matHeaderCellDef> Assigned To </th>
      <td mat-cell
        *matCellDef="let element"> {{element.assignedTo}} </td>
    </ng-container>

    <ng-container matColumnDef="project">
      <th mat-header-cell
        *matHeaderCellDef> Project Short Name </th>
      <td mat-cell
        *matCellDef="let element"> {{element.projectShortName}} </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell
        *matHeaderCellDef> </th>
      <td mat-cell
        *matCellDef="let element"
        class="flex">
        <button mat-flat-button
          color="warn" (click)="onDeleteTicket(element.ticketId)">Delete</button>
        <button mat-flat-button
          color="primary" (click)="onEdit(element.ticketId)">Edit</button>
      </td>
    </ng-container>

    <tr mat-header-row
      *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row
      *matRowDef="let row; columns: displayedColumns;"></tr>

  </table>


  <h1 mat-headline="2">Product Form</h1>

  <br>

  <mat-card>
    <form [formGroup]="ticketForm" (ngSubmit)="$event.preventDefault; onCreateTicket()">
      <mat-form-field appearance="outline">
        <mat-label>Summary</mat-label>
        <input matInput
          placeholder="Summary"
          type="text"
          required
          formControlName="summary"
          >
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Story Point</mat-label>
        <input matInput
          placeholder="Story Point"
          type="number"
          required
          formControlName="storyPoint">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Status</mat-label>
        <input matInput
          type="text"
          required
          formControlName="status">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Assign to</mat-label>
        <input matInput
          type="text"
          required
          formControlName="assignedTo">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Project Short name</mat-label>
        <input matInput
          type="text"
          required
          formControlName="projectShortName">
      </mat-form-field>


      <button mat-flat-button
        color="primary">Add Ticket</button>
    </form>
  </mat-card>

</div>
